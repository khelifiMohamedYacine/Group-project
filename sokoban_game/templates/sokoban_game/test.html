<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    newLevel()
    {
        // 计算地图大小（8x8）
        const gridSize = 8 * 8;

        // 创建新关卡，默认所有格子为 `2`（空地），箱子和玩家为空
        const newLevel = {
            map: new Array(gridSize).fill(2),  // 8x8 全部填充 2
            boxPos: [],
            personPos: {}
        };

        // 添加到 `levels` 数组
        this.levels.push(newLevel);
        console.log(newLevel);
        const newLevelIndex = this.levels.length - 1;

        // 更新 `level-selector` 下拉框
        const levelSelector = document.getElementById("level-selector");
        const newOption = document.createElement("option");
        newOption.value = newLevelIndex + 1;
        newOption.textContent = `Level ${newLevelIndex + 1}`;
        levelSelector.appendChild(newOption);

        // 选择新关卡
        this.currentLevel = newLevelIndex;
        levelSelector.value = newLevelIndex + 1;

        // 重新渲染新关卡
        this.initLevel(newLevelIndex);

        console.log(`New Level ${newLevelIndex + 1} added!`);
    }


</script>
</body>
</html>